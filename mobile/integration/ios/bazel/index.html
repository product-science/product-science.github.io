
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Learn to configure and use Product Science">
      
      
      
        <link rel="canonical" href="https://docs.productscience.app/mobile/integration/ios/bazel/">
      
      
        <link rel="prev" href="../xcode/">
      
      
        <link rel="next" href="../distribution/">
      
      
      <link rel="icon" href="../../../../images/Icon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Build / Bazel - </title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.4af4bdda.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Manrope:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Manrope";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
    
    
      
    
    <meta property="og:type" content="website">
    <meta property="og:title" content=" - Build / Bazel">
    <meta property="og:description" content="Learn to configure and use Product Science">
    <meta property="og:url" content="https://docs.productscience.app/mobile/integration/ios/bazel/">
    <meta property="og:image" content="">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1080">
    <meta property="og:image:height" content="568">
  
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="teal">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#ios-build-instructions-bazel" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="" class="md-header__button md-logo" aria-label="" data-md-component="logo">
      
  <img src="../../../../images/logo-text.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Build / Bazel
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="teal"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="black" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://docs.productscience.app" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Docs
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href="../../../.." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../cloud/overview/" class="md-tabs__link">
          
  
    
  
  CodeTuner for Cloud

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../../overview/" class="md-tabs__link">
          
  
    
  
  CodeTuner for Mobile

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../../ra/overview/" class="md-tabs__link">
          
  
    
  
  Regression Analysis

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="" class="md-nav__button md-logo" aria-label="" data-md-component="logo">
      
  <img src="../../../../images/logo-text.svg" alt="logo">

    </a>
    
  </label>
  
    <div class="md-nav__source">
      <a href="https://docs.productscience.app" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81"/></svg>
  </div>
  <div class="md-source__repository">
    Docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CodeTuner for Cloud
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            CodeTuner for Cloud
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cloud/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cloud/integration/integration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Common
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cloud/integration/jvm-agent/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JVM Agent
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cloud/usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../cloud/release-notes/release-note-1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Supported JAVA frameworks
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  <span class="md-ellipsis">
    CodeTuner for Mobile
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            CodeTuner for Mobile
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Integration
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            Integration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_2_1" >
        
          
          <label class="md-nav__link" for="__nav_3_2_1" id="__nav_3_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Android
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2_1">
            <span class="md-nav__icon md-icon"></span>
            Android
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/gradle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build / Gradle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/cicd/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CICD / Gradle
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/cli-tool/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CLI Tool
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/integration-faq-android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Integration FAQ
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../android/user-flow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    User Flow Annotation
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2_2" id="__nav_3_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    iOS
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_2_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2_2">
            <span class="md-nav__icon md-icon"></span>
            iOS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../xcode/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Build / Xcode
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Build / Bazel
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Build / Bazel
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-copy-productscienceyaml-to-your-projects-workspace-directory" class="md-nav__link">
    <span class="md-ellipsis">
      1. Copy productscience.yaml to your project's workspace directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-buildozer" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install buildozer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-install-psclicodeinjector" class="md-nav__link">
    <span class="md-ellipsis">
      3. Install PSCliCodeInjector
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-run-psclicodeinjector" class="md-nav__link">
    <span class="md-ellipsis">
      4. Run PSCliCodeInjector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Run PSCliCodeInjector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-use" class="md-nav__link">
    <span class="md-ellipsis">
      Basic use
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-backup-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the backup directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-configuration-archive-path-offline-compatible-builds-only" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the configuration archive path (offline-compatible builds only)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-options" class="md-nav__link">
    <span class="md-ellipsis">
      Other options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-share-build-with-product-science" class="md-nav__link">
    <span class="md-ellipsis">
      5. Share build with Product Science
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../distribution/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    App Distribution
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../upload-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Upload API
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Device Set-Up
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            Device Set-Up
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../device-set-up/android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../device-set-up/ios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iOS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Record + Upload
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            Record + Upload
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../record-n-upload/android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Android
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../record-n-upload/ios/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    iOS
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Release Notes
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.1-New-UX-%26-UI/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.1 - New UX & UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.2-Admin/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.2 - Admin
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.3-Video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.3 - Video
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.4-Annotations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.4 - Annotations
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.5-Frame-Drop-Visualization-for-Android/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.5 - Frame Drop Visualization for Android
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.6-Product-Analytic-Tags/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.6 - Product Analytic Tags
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.7-Quick-Start-Guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.7 - Quick Start Guide
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../release-notes/R1.8-support-of-xcode16-and-swift6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    R1.8 - Support of Xcode 16 and Swift 6
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Regression Analysis
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Regression Analysis
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ra/overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ra/api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../../ra/example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    cURL example
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-copy-productscienceyaml-to-your-projects-workspace-directory" class="md-nav__link">
    <span class="md-ellipsis">
      1. Copy productscience.yaml to your project's workspace directory
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-install-buildozer" class="md-nav__link">
    <span class="md-ellipsis">
      2. Install buildozer
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-install-psclicodeinjector" class="md-nav__link">
    <span class="md-ellipsis">
      3. Install PSCliCodeInjector
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-run-psclicodeinjector" class="md-nav__link">
    <span class="md-ellipsis">
      4. Run PSCliCodeInjector
    </span>
  </a>
  
    <nav class="md-nav" aria-label="4. Run PSCliCodeInjector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#basic-use" class="md-nav__link">
    <span class="md-ellipsis">
      Basic use
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-backup-directory" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the backup directory
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#changing-the-configuration-archive-path-offline-compatible-builds-only" class="md-nav__link">
    <span class="md-ellipsis">
      Changing the configuration archive path (offline-compatible builds only)
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#other-options" class="md-nav__link">
    <span class="md-ellipsis">
      Other options
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-share-build-with-product-science" class="md-nav__link">
    <span class="md-ellipsis">
      5. Share build with Product Science
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<div><h1 id="ios-build-instructions-bazel">iOS Build Instructions - Bazel</h1>
<p>The following instructions describe how to add Product Science instrumentation to a <a href="https://bazel.build/">Bazel</a> project's iOS application.</p>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Several of this document's steps include an "Example" section that describes how to apply the instructions to a demo Bazel application named SimpleApp. If you'd like to follow along, just clone our <a href="https://github.com/product-science/demoapps">demoapps repository</a>:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span><span class="nb">cd</span><span class="w"> </span>~
%<span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/product-science/demoapps
</code></pre></div>
<p>Our examples will assume that you've cloned the repository to your home directory and kept the repository's default directory name (<code>demoapps</code>). If you decide to change either of these details, then modify the specified paths to fit your setup.</p>
</div>
<h2 id="1-copy-productscienceyaml-to-your-projects-workspace-directory">1. Copy <code>productscience.yaml</code> to your project's workspace directory</h2>
<p><em>NOTE: If your build environment does not allow network access, then you will be provided with a 'productscience.zip' archive instead of a .yaml file. Copy the entire .zip archive to your workspace directory (do not unzip the archive).</em></p>
<p>Product Science will provide you with a <code>productscience.yaml</code> file that contains your credentials and configuration details.</p>
<div class="admonition info">
<p class="admonition-title">Info</p>
<p>If you haven't received this file or need to request a new copy, please reach out to your designated integration support contact via established communication channel. If this contact is unavailable, send an email to support@productscience.ai for assistance.</p>
</div>
<p>Once you've received your <code>productscience.yaml</code> file, copy the file to your project's <a href="https://bazel.build/concepts/build-ref#workspace">workspace</a> directory (next to the <code>WORKSPACE</code> file).</p>
<details class="example">
<summary>Example</summary>
<p>Assuming you've downloaded <code>productscience.yaml</code> to your <code>~/Downloads</code> directory:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>cp<span class="w"> </span>~/Downloads/productscience.yaml<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel

%<span class="w"> </span>ls<span class="w"> </span>-go<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel
...
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w">    </span><span class="m">819</span><span class="w"> </span>May<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">2023</span><span class="w"> </span>WORKSPACE
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w">   </span><span class="m">3619</span><span class="w"> </span>May<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">2023</span><span class="w"> </span>productscience.yaml
...
</code></pre></div>
</details>
<h2 id="2-install-buildozer">2. Install <code>buildozer</code></h2>
<p><a href="https://github.com/bazelbuild/buildtools/blob/master/buildozer/README.md"><code>buildozer</code></a> is a build tool created and maintained by the Bazel team to rewrite <code>BUILD</code> files. <code>PSCliCodeInjector</code> uses this tool to configure your
project's <code>BUILD</code> files during injection.</p>
<p>Before running <code>PSCliCodeInjector</code> for the first time, you'll need to install <code>buildozer</code> on the host computer.
Instructions for installation can be found on the project's <a href="https://github.com/bazelbuild/buildtools/tree/master/buildozer">repository</a>.</p>
<h2 id="3-install-psclicodeinjector">3. Install <code>PSCliCodeInjector</code></h2>
<p><em>NOTE: Offline builds are not hosted on our public repo. If your build environment does not allow network access, PS will work with your team to share offline-compatible builds via a private channel.</em></p>
<p>Download the latest installer package (named <code>PSCliCodeInjector.pkg</code>) from our <a href="https://github.com/product-science/PSios/releases">public plugin repo</a>.</p>
<p>Double-click the downloaded <code>.pkg</code> to start the installation process. By default, <code>PSCliCodeInjector</code> will be installed to <code>/usr/local/bin</code>.</p>
<p><img alt="PSCliCodeInjector installer" src="../../../../images/ios-installer.jpg"></p>
<h2 id="4-run-psclicodeinjector">4. Run <code>PSCliCodeInjector</code></h2>
<p><code>PSCliCodeInjector</code> adds Product Science's instrumentation to your project's source code.</p>
<p>Before any changes are made to your project, <code>PSCliCodeInjector</code> will create a copy of your project's directory and save it to a backup location. <code>PSCliCodeInjector</code> will then add Product Science's instrumentation to your workspace directory's source code. The backup directory will contain the original, un-instrumented code.</p>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>When you want to create an instrumented build, be sure to use the original project directory and not the backup directory.</p>
</div>
<div class="admonition warning">
<p class="admonition-title">Important</p>
<p>The code changes made by <code>PSCliCodeInjector</code> result in a large number of compile-time warnings, which can cause build failure if Bazel's max stdout/stderr log size is exceeded. To prevent this, include the following option in your <code>bazel build</code> command:
</p><div class="highlight"><pre><span></span><code>--experimental_ui_max_stdouterr_bytes=-1
</code></pre></div>
</div>
<h3 id="basic-use">Basic use</h3>
<div class="highlight"><pre><span></span><code>PSCliCodeInjector<span class="w"> </span>&lt;root-directory&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--console-build-command<span class="w"> </span><span class="s2">"&lt;console-build-command&gt;"</span>
</code></pre></div>
<p>There are only two required parameters when running <code>PSCliCodeInjector</code>:</p>
<ol>
<li><code>root-directory</code>: This is the path to your project's <a href="https://bazel.build/concepts/build-ref#workspace">workspace</a> directory. There must be a Bazel <code>WORKSPACE</code> file at the top level of this directory.</li>
<li><code>console-build-command</code>: This is the build command that the tool will use to confirm that your project compiles successfully before and after injection. This command will be run from your project's workspace directory.</li>
</ol>
<details class="example">
<summary>Example</summary>
<p>Assuming that you've cloned the demoapps repository to <code>~/demoapps</code>, the full path to your <code>root-directory</code> (aka your workspace directory) will be <code>~/demoapps/iOS/SimpleApp-Bazel</code>.</p>
<p>Product Science does not currently support the iOS Simulator as a run destination, so the app will need to be built for device. To build for device, you'll first need to configure the app's code-siging settings. Perform the following steps:</p>
<ol>
<li>Copy a valid provisioning profile to <code>~/demoapps/iOS/SimpleApp-Bazel/ios-app/configuration/</code>. Rename the provisioning profile to <code>SimpleApp.mobileprovision</code>.</li>
<li>Run the following command, replacing <code>&lt;YOUR_BUNDLE_ID&gt;</code> with a bundle identifier that will work with your copied provisioning profile.</li>
</ol>
<div class="highlight"><pre><span></span><code><span class="nb">echo</span><span class="w"> </span><span class="s2">"BUNDLE_ID = \"&lt;YOUR_BUNDLE_ID&gt;\""</span><span class="w"> </span>&gt;&gt;<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel/ios-app/configuration/codesign.bzl
</code></pre></div>
<p>Once that's done, the following will be your <code>console-build-command</code>:
  </p><div class="highlight"><pre><span></span><code><span class="n">bazel</span> <span class="n">build</span> <span class="o">//</span><span class="n">ios</span><span class="o">-</span><span class="n">app</span><span class="p">:</span><span class="n">SimpleApp</span> <span class="o">--</span><span class="n">ios_multi_cpus</span><span class="o">=</span><span class="n">arm64</span>
</code></pre></div>
<p>Given the information above, your full <code>PSCliCodeInjector</code> command will be:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>PSCliCodeInjector<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--console-build-command<span class="o">=</span><span class="s2">"bazel build //ios-app:SimpleApp --ios_multi_cpus=arm64"</span>
</code></pre></div>
<p>Run this command and wait for the tool to finish its work. When done, several of the files inside <code>~/demoapps/iOS/SimpleApp-Bazel</code> will have uncommitted changes. You can see an overview of the changes using git:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>git<span class="w"> </span>-C<span class="w"> </span>~/demoapps<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>main
Changes<span class="w"> </span>not<span class="w"> </span>staged<span class="w"> </span><span class="k">for</span><span class="w"> </span>commit:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>update<span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git restore &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>discard<span class="w"> </span>changes<span class="w"> </span><span class="k">in</span><span class="w"> </span>working<span class="w"> </span>directory<span class="o">)</span>
<span class="w">          </span>modified:<span class="w">   </span>iOS/SimpleApp-Bazel/ios-app/BUILD
<span class="w">          </span>modified:<span class="w">   </span>iOS/SimpleApp-Bazel/ios-app/SimpleApp/AppDelegate.swift
<span class="w">          </span>modified:<span class="w">   </span>iOS/SimpleApp-Bazel/ios-app/SimpleApp/FirstViewController.swift
<span class="w">          </span>modified:<span class="w">   </span>iOS/SimpleApp-Bazel/ios-app/SimpleApp/SceneDelegate.swift
<span class="w">          </span>modified:<span class="w">   </span>iOS/SimpleApp-Bazel/ios-app/SimpleApp/SecondViewController.swift

Untracked<span class="w"> </span>files:
<span class="w">  </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add &lt;file&gt;..."</span><span class="w"> </span>to<span class="w"> </span>include<span class="w"> </span><span class="k">in</span><span class="w"> </span>what<span class="w"> </span>will<span class="w"> </span>be<span class="w"> </span>committed<span class="o">)</span>
<span class="w">        </span>iOS/SimpleApp-Bazel-BACKUP/
<span class="w">        </span>iOS/SimpleApp-Bazel/PSKit/
<span class="w">        </span>iOS/SimpleApp-Bazel/productscience.yaml

no<span class="w"> </span>changes<span class="w"> </span>added<span class="w"> </span>to<span class="w"> </span>commit<span class="w"> </span><span class="o">(</span>use<span class="w"> </span><span class="s2">"git add"</span><span class="w"> </span>and/or<span class="w"> </span><span class="s2">"git commit -a"</span><span class="o">)</span>
</code></pre></div>
<p>Five existing files have been modified. There are also three untracked items - the <code>productscience.yaml</code> file that you added earlier, along with two new directories:</p>
<ul>
<li><code>iOS/SimpleApp-Bazel-BACKUP/</code> is a snapshot of <code>iOS/SimpleApp-Bazel/</code>, created before any changes are made to the contents of <code>iOS/SimpleApp-Bazel/</code>. By default, the backup directory is named <code>&lt;root-directory&gt;-BACKUP</code> and added as a sibling directory of the original. You can change this behavior using the <code>--backup-dir</code> option (see <a href="#changing-the-backup-directory">"Changing the backup directory"</a> below).</li>
<li><code>iOS/SimpleApp-Bazel/PSKit/</code> is Product Science's framework package, responsible for tracing the app's code. An example of its use can be found in<code>iOS/SimpleApp-Bazel/ios-app/BUILD</code>, where it is added as a dependency of SimpleAppLib.</li>
</ul>
<p>At this point, you should be able to install the app to your iOS device and record a trace.</p>
<p>To install the app:</p>
<p>The .ipa can be found at <code>~/demoapps/iOS/SimpleApp-Bazel/bazel-out/applebin_ios-ios_arm64-fastbuild-ST-9204ac8255b1/bin/ios-app/SimpleApp.ipa</code>. If you have <a href="https://github.com/ios-control/ios-deploy#installation">ios-deploy</a> on your host computer, you can install this .ipa to your device from the command line:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>ios-deploy<span class="w"> </span>--bundle<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel/bazel-out/applebin_ios-ios_arm64-fastbuild-ST-9204ac8255b1/bin/ios-app/SimpleApp.ipa
</code></pre></div>
<p>If you'd prefer, you can also install the app from Xcode's <a href="https://developer.apple.com/documentation/xcode/running-your-app-in-simulator-or-on-a-device#Configure-the-list-of-simulated-devices">"Devices and Simulators"</a> window.</p>
<p>To record a trace:</p>
<p><div class="video-container"><video style="width:50%" muted controls alt="type:video"><source src="../../../video/ios-recording_trace-480.mp4" type="video/mp4"></source></video></div></p>
</details>
<h3 id="changing-the-backup-directory">Changing the backup directory</h3>
<div class="highlight"><pre><span></span><code>PSCliCodeInjector<span class="w"> </span>&lt;root-directory&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--console-build-command<span class="w"> </span><span class="s2">"&lt;console-build-command&gt;"</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--backup-dir<span class="w"> </span>&lt;backup-directory&gt;
</code></pre></div>
<p>A backup of your project's root directory will be created before injection is run. By default, this backup directory is created at  <code>&lt;root-directory&gt;-BACKUP</code>.</p>
<p>You can override the location of the backup directory by including the <code>--backup-dir</code> option with a custom directory path.</p>
<details class="example">
<summary>Example</summary>
<p>You're about to re-run injection on the SimpleApp-Bazel workspace, and <code>PSCliCodeInjector</code> doesn't currently support modifications to already-injected code. Before continuing, revert the changes from previous examples that you made to the <code>SimpleApp-Bazel</code> directory:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>git<span class="w"> </span>-C<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel/<span class="w"> </span>add<span class="w"> </span>.
%<span class="w"> </span>git<span class="w"> </span>-C<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel/<span class="w"> </span>reset<span class="w"> </span>--hard<span class="w"> </span>HEAD
</code></pre></div>
<p>You're also about to specify a custom backup directory so, to avoid confusion, delete the previously-created backup directory:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>rm<span class="w"> </span>-r<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel-BACKUP/
</code></pre></div>
<p>The local <code>~/demoapps</code> working tree should now be clean. You can confirm by checking its git status:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>git<span class="w"> </span>-C<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel/<span class="w"> </span>status
On<span class="w"> </span>branch<span class="w"> </span>main
nothing<span class="w"> </span>to<span class="w"> </span>commit,<span class="w"> </span>working<span class="w"> </span>tree<span class="w"> </span>clean
</code></pre></div>
<p>We've discarded the <code>productscience.yaml</code> file, so we'll need to re-copy it to the workspace directory:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>cp<span class="w"> </span>~/Downloads/productscience.yaml<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel

%<span class="w"> </span>ls<span class="w"> </span>-go<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel
...
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w">    </span><span class="m">819</span><span class="w"> </span>May<span class="w"> </span><span class="m">11</span><span class="w"> </span><span class="m">2023</span><span class="w"> </span>WORKSPACE
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w">   </span><span class="m">3619</span><span class="w"> </span>May<span class="w"> </span><span class="m">12</span><span class="w"> </span><span class="m">2023</span><span class="w"> </span>productscience.yaml
...
</code></pre></div>
<p>Let's run <code>PSCliCodeInjector</code> on the SimpleApp-Bazel workspace again, but this time we'll save the backup directory to the <code>/tmp</code> directory. Let's also rename the backup directory to something a bit shorter (<code>SimpleAppBackup</code>). Your new <code>backup-directory</code> will be <code>/tmp/SimpleAppBackup</code>, and your new <code>PSCliCodeInjector</code> command will be:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>PSCliCodeInjector<span class="w"> </span>~/demoapps/iOS/SimpleApp-Bazel<span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--console-build-command<span class="w"> </span><span class="s2">"bazel build //ios-app:SimpleApp --ios_multi_cpus=arm64"</span><span class="w"> </span><span class="se">\</span>
<span class="w">    </span>--backup-dir<span class="w"> </span>/tmp/SimpleAppBackup
</code></pre></div>
<p>Run this command and wait for the tool to finish its work. When done, the changes should <em>almost</em> match those that you saw after finishing the previous examples. The only difference will be that <code>~/demoapps/iOS/SimpleApp-Bazel-BACKUP/</code> no longer shows up in that directory's <code>git status</code>. Instead, you can find the backup directory at <code>/tmp/SimpleAppBackup</code>:</p>
<div class="highlight"><pre><span></span><code>%<span class="w"> </span>ls<span class="w"> </span>-go<span class="w"> </span>/tmp/SimpleAppBackup/
total<span class="w"> </span><span class="m">16</span>
-rw-r--r--<span class="w">  </span><span class="m">1</span><span class="w">   </span><span class="m">819</span><span class="w"> </span>May<span class="w"> </span><span class="m">16</span><span class="w"> </span><span class="m">19</span>:50<span class="w"> </span>WORKSPACE
...
</code></pre></div>
</details>
<h3 id="changing-the-configuration-archive-path-offline-compatible-builds-only">Changing the configuration archive path <em>(offline-compatible builds only)</em></h3>
<p><em>NOTE: This option is only relevant if your build environment does not allow network access. Standard builds will load this information automatically from our API.</em></p>
<div class="highlight"><pre><span></span><code>PSCliCodeInjector<span class="w"> </span>&lt;root-directory&gt;<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--console-build-command<span class="w"> </span><span class="s2">"&lt;console-build-command&gt;"</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--local-config<span class="w"> </span>&lt;config-archive&gt;
</code></pre></div>
<p>By default, PSCliCodeInjector expects your configuration archive to be named 'productscience.zip', and to be placed in your project's root directory.</p>
<p>If you'd prefer to keep the archive somewhere else, you can tell PSCliCodeInjector where to look by passing the archive's full path (including name) to the <code>--local-config</code> option.</p>
<h3 id="other-options">Other options</h3>
<p><code>PSCliCodeInjector</code> accepts several other options. Pass the <code>--help</code> flag to see the full list:</p>
<div class="highlight"><pre><span></span><code>PSCliCodeInjector<span class="w"> </span>--help
</code></pre></div>
<h2 id="5-share-build-with-product-science">5. Share build with Product Science</h2>
<p>Please follow instructions at <a href="../distribution/">iOS Distribution Instructions</a> to share your build with us.</p></div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright Product Science Inc. All rights reserved.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://www.linkedin.com/company/product-science-inc/" target="_blank" rel="noopener" title="www.linkedin.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2024 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3M135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5m282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.instant", "navigation.expand", "navigation.top", "content.code.annotate", "navigation.indexes", "navigation.tracking", "search.suggest"], "search": "../../../../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>